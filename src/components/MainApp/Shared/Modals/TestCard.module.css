/* TestCard.module.css - Glassmorphism Style */
.testCard {
  display: flex;
  flex-direction: column;
  /* background: rgb(233, 195, 68); */
  /* background: var(--bg--esperienza); */
  /* background: var(--bg-old); */
  backdrop-filter: blur(20px) saturate(150%);
  border-radius: 1.5rem;
  padding: 0.75rem;
  /* padding: 1rem; */
  max-width: 356px;
  width: 100%;
  /* font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif; */
  color: rgb(17, 24, 39);

  border: 1px solid rgba(255, 255, 255, 0.2);
  transition: all 0.3s ease;
  /* margin-top: 20px; */
  margin-bottom: 20px;
  /* box-shadow: 0 32px 64px -12px rgba(0, 0, 0, 0.4),
    inset 0 1px 0 rgba(255, 255, 255, 0.4); */
  /* box-shadow: 0 32px 64px -2px rgba(0, 0, 0, 0.4),
    inset 0 1px 0 rgba(255, 255, 255, 0.4); */
  /* box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15), 0 12px 24px rgba(0, 0, 0, 0.25),
    inset 0 1px 0 rgba(255, 255, 255, 0.6), inset 0 -1px 0 rgba(0, 0, 0, 0.1); */
  box-shadow: var(--box-shadow-minimal);
}

.testCard:hover {
  transform: translateY(-2px);
}

/* Navigation */
.nav {
  display: flex;
  align-items: center;
  justify-content: space-between;
  cursor: pointer;
  transition: all 0.2s ease;
  border-radius: 0.75rem;
  /* backdrop-filter: blur(8px); */
}

.nav h2 {
  margin: 0;
  color: rgb(17, 24, 39);
  font-size: 1.125rem;
  font-weight: 700;
  filter: drop-shadow(0 1px 2px rgba(0, 0, 0, 0.1));
}

.navTitle {
  margin: 0;
  color: rgb(17, 24, 39);
  font-size: 1.125rem;
  font-weight: 700;
  filter: drop-shadow(0 1px 2px rgba(0, 0, 0, 0.1));
}

.navRight {
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

.navUl {
  display: flex;
  gap: 0.25rem;
  list-style: none;
  margin: 0;
  padding: 0;
}

.navUl li {
  color: rgb(55, 65, 81);
  cursor: pointer;
  transition: all 0.2s ease;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 0.25rem;
  border-radius: 0.375rem;
  /* backdrop-filter: blur(4px); */
}

.expandIcon {
  color: rgb(55, 65, 81);
  display: flex;
  align-items: center;
  transition: all 0.2s ease;
  padding: 0.25rem;
  border-radius: 50%;
  background-color: rgba(255, 255, 255, 0.1);
  backdrop-filter: blur(4px);
}

.expandIcon:hover {
  background-color: rgba(255, 255, 255, 0.2);
  color: rgb(17, 24, 39);
}

/* Card Content */
.cardContent {
  margin-top: 0.75rem;
  animation: slideDown 0.3s ease-out;
  background-color: rgba(255, 255, 255, 0.05);
  backdrop-filter: blur(8px);
  border-radius: 0.75rem;
  padding: 0.75rem;
  border: 1px solid rgba(255, 255, 255, 0.1);
}

.cardContentSperienza {
  margin-top: 0.75rem;
  animation: slideDown 0.3s ease-out;
  /* background-color: rgba(255, 255, 255, 0.05); */
  /* backdrop-filter: blur(8px); */
  border-radius: 0.75rem;
  padding: 0.75rem;
  /* border: 1px solid rgba(255, 255, 255, 0.1); */
}

@keyframes slideDown {
  from {
    opacity: 0;
    transform: translateY(-10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Info lezione */
.infoLezione {
  display: flex;
  gap: 0.5rem;
  margin-bottom: 0.75rem;
  justify-content: space-between;
}

.infoItem {
  display: flex;
  gap: 0.125rem;
  align-items: center;
  backdrop-filter: blur(8px);
  white-space: nowrap;
}

.infoLabel {
  font-size: 0.625rem;
  color: rgb(55, 65, 81);
  font-weight: 600;
  filter: drop-shadow(0 1px 2px rgba(0, 0, 0, 0.1));
  text-transform: uppercase;
  letter-spacing: 0.025em;
}

.infoValue {
  font-size: 0.875rem;
  font-weight: 700;
  color: rgb(17, 24, 39);
  filter: drop-shadow(0 1px 2px rgba(0, 0, 0, 0.1));
}

/* Descrizione e avatar */
.descAvat {
  display: flex;
  gap: 0.5rem;
  margin-bottom: 0.75rem;
  /* flex-direction: column; */
  /* align-items: center; */
  justify-content: space-between;
}

.descriptionBox {
  flex: 1;
  padding: 0.75rem;
  background-color: rgba(255, 255, 255, 0.2);
  backdrop-filter: blur(8px);
  border-radius: 0.75rem;
  border: 1px solid rgba(255, 255, 255, 0.3);
  font-size: 0.75rem;
  /* line-height: 1.4; */
  color: rgb(17, 24, 39);
  font-weight: 500;
  filter: drop-shadow(0 1px 2px rgba(0, 0, 0, 0.1));
  /* AGGIUNTE: Gestione overflow del testo */
  word-wrap: break-word;
  word-break: break-word;
  overflow-wrap: break-word;
  hyphens: auto;
  /* max-height: 6rem;  */
  /* overflow-y: auto; */
  line-height: 1.4;
}

.avatarList {
  display: flex;
  flex-direction: column;
  gap: 0.25rem;
  list-style: none;
  margin: 0;
  padding: 0;
}

.avatarList li {
  display: flex;
  align-items: center;
  justify-content: center;
}

.avatarPlaceholder {
  width: 2rem;
  height: 2rem;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 1rem;
  cursor: pointer;
  transition: all 0.2s ease;
  backdrop-filter: blur(8px);
  border: 1px solid rgba(255, 255, 255, 0.3);
  box-shadow: 0 2px 4px -1px rgba(0, 0, 0, 0.1);
}

.avatarPlaceholder:hover {
  transform: scale(1.1);
  border-color: rgba(255, 255, 255, 0.5);
  box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
}

/* Divisore */
/* .dividere {
  height: 1px;
  background: linear-gradient(
    90deg,
    transparent,
    rgba(255, 255, 255, 0.4),
    transparent
  );
  margin: 0.75rem 0;
  border-radius: 2px;
  position: relative;
}

.dividere::before {
  content: "";
  position: absolute;
  top: -1px;
  left: 0;
  right: 0;
  height: 1px;
  background: linear-gradient(
    90deg,
    transparent,
    rgba(255, 255, 255, 0.2),
    transparent
  );
} */
.divider {
  border-top: 2px dashed rgba(248, 248, 248, 0.6);
  /* margin: 1rem 0; */
}
/* Footer user */
.footerUser {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  backdrop-filter: blur(8px);
  border-radius: 0.75rem;
}

.userInfo {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  list-style: none;
  margin: 0;
  padding: 0;
  flex: 1;
}

.userInfo img {
  border: 1px solid rebeccapurple;
  width: 40px; /* ✅ Larghezza FISSA */
  height: 40px; /* ✅ Altezza FISSA */
  border-radius: 50%; /* ✅ Usa 50% invece di 100% */
  object-fit: cover;
  display: block;
}

.userAvatar {
  width: 2rem;
  height: 2rem;
  border-radius: 50%;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 1rem;
  backdrop-filter: blur(8px);
  border: 1px solid rgba(255, 255, 255, 0.3);
  box-shadow: 0 2px 4px -1px rgba(0, 0, 0, 0.1);
  transition: all 0.2s ease;
}

.userAvatar:hover {
  transform: scale(1.05);
  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
}

.userInfo p {
  margin: 0;
  font-weight: 600;
  color: rgb(17, 24, 39);
  font-size: 0.875rem;
  filter: drop-shadow(0 1px 2px rgba(0, 0, 0, 0.1));
}

.userGem {
  display: flex;
  align-items: center;
  gap: 0.25rem;
  color: rgb(17, 24, 39);
  /* font-size: 0.75rem; */
  font-size: 0.8rem;
  font-weight: 700;
  padding: 0.25rem 0.5rem;
  backdrop-filter: blur(8px);
  border-radius: 1rem;
  filter: drop-shadow(0 1px 2px rgba(0, 0, 0, 0.1));
}

.iconclass {
  color: rgb(55, 65, 81);
  cursor: pointer;
  transition: all 0.2s ease;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 0.25rem;
  border-radius: 50%;
  backdrop-filter: blur(4px);
  font-size: 1.2rem;
}

/* Action Buttons */
.actionButtons {
  display: flex;
  gap: 0.5rem;
  margin-top: 0.75rem;
  flex-wrap: wrap;
}

.actionButton {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 0.375rem;
  padding: 0.5rem 0.75rem;
  border-radius: 0.75rem;
  border: 1px solid rgba(255, 255, 255, 0.3);
  background-color: rgba(255, 255, 255, 0.15);
  backdrop-filter: blur(8px);
  color: rgb(17, 24, 39);
  font-size: 0.75rem;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.2s ease;
  box-shadow: 0 2px 4px -1px rgba(0, 0, 0, 0.1);
  filter: drop-shadow(0 1px 2px rgba(0, 0, 0, 0.1));
}

.actionButton:hover {
  background-color: rgba(255, 255, 255, 0.25);
  transform: translateY(-1px);
  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
}

.actionButton:active {
  transform: translateY(0);
}

.actionButtonEdit {
  background-color: rgba(34, 197, 94, 0.2);
  border-color: rgba(34, 197, 94, 0.4);
  color: rgb(15, 118, 110);
  flex: 1;
  min-width: 120px;
}

.actionButtonEdit:hover {
  background-color: rgba(34, 197, 94, 0.3);
  border-color: rgba(34, 197, 94, 0.6);
  color: rgb(6, 95, 70);
}

/* NUOVO: Stili per il bottone Delete */
.actionButtonDelete {
  background-color: rgba(239, 68, 68, 0.2);
  border-color: rgba(239, 68, 68, 0.4);
  color: rgb(153, 27, 27);
  flex: 1;
  min-width: 120px;
}

.actionButtonDelete:hover {
  background-color: rgba(239, 68, 68, 0.3);
  border-color: rgba(239, 68, 68, 0.6);
  color: rgb(127, 29, 29);
}

.actionButtonSecondary {
  background-color: rgba(255, 255, 255, 0.1);
  border-color: rgba(255, 255, 255, 0.2);
  color: rgb(55, 65, 81);
  padding: 0.5rem;
  min-width: 40px;
}

.actionButtonSecondary:hover {
  background-color: rgba(255, 255, 255, 0.2);
  color: rgb(17, 24, 39);
}

/* NUOVO: Spacer per allineare le icone a destra in viewer mode */
.actionSpacer {
  flex: 1;
}

/* ✨ FEEDBACK SECTION */
.feedbackSection {
  margin-bottom: 0.75rem;
  background-color: rgba(255, 255, 255, 0.05);
  backdrop-filter: blur(8px);
  border-radius: 0.75rem;
  border: 1px solid rgba(255, 255, 255, 0.1);
  overflow: hidden;
  transition: all 0.3s ease;
}

.feedbackHeader {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 0.75rem;
  cursor: pointer;
  transition: all 0.2s ease;
  border-radius: 0.75rem;
}

.feedbackHeader:hover {
  background-color: rgba(255, 255, 255, 0.1);
}

.feedbackTitle {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  font-size: 0.875rem;
  font-weight: 600;
  color: rgb(17, 24, 39);
  filter: drop-shadow(0 1px 2px rgba(0, 0, 0, 0.1));
}

.ratingBadge {
  display: flex;
  align-items: center;
  gap: 0.25rem;
  padding: 0.25rem 0.5rem;
  background-color: rgba(255, 255, 255, 0.2);
  border-radius: 1rem;
  font-size: 0.75rem;
  font-weight: 700;
  color: rgb(17, 24, 39);
}

.feedbackContent {
  padding: 0 0.75rem 0.75rem 0.75rem;
  animation: slideDown 0.3s ease-out;
}

.feedbackItem {
  padding: 0.75rem;
  background-color: rgba(255, 255, 255, 0.1);
  backdrop-filter: blur(4px);
  border-radius: 0.5rem;
  margin-bottom: 0.5rem;
  border: 1px solid rgba(255, 255, 255, 0.15);
  transition: all 0.2s ease;
}

.feedbackItem:last-child {
  margin-bottom: 0;
}

.feedbackItem:hover {
  background-color: rgba(255, 255, 255, 0.15);
  transform: translateY(-1px);
}

.feedbackUser {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  margin-bottom: 0.5rem;
}

.feedbackAvatar {
  width: 1.75rem;
  height: 1.75rem;
  border-radius: 50%;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 0.875rem;
  border: 1px solid rgba(255, 255, 255, 0.3);
  backdrop-filter: blur(4px);
}

.feedbackInfo {
  display: flex;
  flex-direction: column;
  gap: 0.125rem;
  flex: 1;
}

.feedbackName {
  font-size: 0.75rem;
  font-weight: 600;
  color: rgb(17, 24, 39);
  filter: drop-shadow(0 1px 2px rgba(0, 0, 0, 0.1));
}

.feedbackRating {
  display: flex;
  gap: 0.125rem;
}

.feedbackDate {
  font-size: 0.625rem;
  color: rgb(75, 85, 99);
  font-weight: 500;
}

.feedbackComment {
  margin: 0;
  font-size: 0.75rem;
  line-height: 1.4;
  color: rgb(17, 24, 39);
  font-weight: 500;
  word-wrap: break-word;
  word-break: break-word;
  overflow-wrap: break-word;
}

/* Stars */
.star {
  transition: all 0.2s ease;
}

.starFilled {
  color: #fbbf24;
  fill: #fbbf24;
}

.starEmpty {
  color: rgba(75, 85, 99, 0.3);
  fill: none;
}

/* ✨ REQUEST SECTION */
.requestSection {
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
}

.requestButton {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 0.5rem;
  padding: 0.75rem;
  background-color: rgba(34, 197, 94, 0.2);
  backdrop-filter: blur(8px);
  border-radius: 0.75rem;
  border: 1px solid rgba(34, 197, 94, 0.4);
  color: rgb(15, 118, 110);
  font-size: 0.875rem;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.2s ease;
  box-shadow: 0 2px 4px -1px rgba(0, 0, 0, 0.1);
  filter: drop-shadow(0 1px 2px rgba(0, 0, 0, 0.1));
}

.requestButton:hover {
  background-color: rgba(34, 197, 94, 0.3);
  border-color: rgba(34, 197, 94, 0.6);
  transform: translateY(-1px);
  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
}

.waitButton {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 0.5rem;
  padding: 0.75rem;
  background-color: rgba(197, 34, 75, 0.2);
  backdrop-filter: blur(8px);
  border-radius: 0.75rem;
  border: 1px solid rgba(197, 34, 135, 0.4);
  color: rgb(118, 15, 67);
  font-size: 0.875rem;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.2s ease;
  box-shadow: 0 2px 4px -1px rgba(0, 0, 0, 0.1);
  filter: drop-shadow(0 1px 2px rgba(0, 0, 0, 0.1));
}

.waitButton:hover {
  background-color: rgba(197, 34, 75, 0.2);
  border-color: rgba(118, 15, 85, 0.715);
  transform: translateY(-1px);
  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
}

.requestSent {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 0.5rem;
  padding: 0.75rem;
  background-color: rgba(59, 130, 246, 0.2);
  backdrop-filter: blur(8px);
  border-radius: 0.75rem;
  border: 1px solid rgba(59, 130, 246, 0.4);
  color: rgb(30, 64, 175);
  font-size: 0.875rem;
  font-weight: 600;
  filter: drop-shadow(0 1px 2px rgba(0, 0, 0, 0.1));
}

.requestForm {
  margin-top: 0.75rem;
  /* background-color: rgba(255, 255, 255, 0.05); */
  backdrop-filter: blur(8px);
  border-radius: 0.75rem;
  /* border: 1px solid rgba(255, 255, 255, 0.1); */
  /* padding: 0.75rem; */
  animation: slideDown 0.3s ease-out;
}

.requestTextarea {
  width: 100%;
  padding: 0.75rem;
  background-color: rgba(255, 255, 255, 0.1);
  backdrop-filter: blur(4px);
  border-radius: 0.5rem;
  border: 1px solid rgba(255, 255, 255, 0.2);
  color: rgb(17, 24, 39);
  font-size: 0.75rem;
  line-height: 1.4;
  resize: vertical;
  min-height: 80px;
  font-family: inherit;
  transition: all 0.2s ease;
}

.requestTextarea:focus {
  outline: none;
  border-color: rgba(34, 197, 94, 0.4);
  background-color: rgba(255, 255, 255, 0.15);
}

.requestTextarea::placeholder {
  color: rgb(107, 114, 128);
  font-style: italic;
}

.requestActions {
  display: flex;
  gap: 0.5rem;
  margin-top: 0.75rem;
  justify-content: flex-end;
}

.requestCancel {
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 0.5rem 0.75rem;
  background-color: rgba(255, 255, 255, 0.1);
  backdrop-filter: blur(8px);
  border-radius: 0.5rem;
  border: 1px solid rgba(255, 255, 255, 0.2);
  color: rgb(75, 85, 99);
  font-size: 0.75rem;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.2s ease;
}

.requestCancel:hover {
  background-color: rgba(255, 255, 255, 0.2);
  color: rgb(17, 24, 39);
}

.requestSend {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 0.375rem;
  padding: 0.5rem 0.75rem;
  background-color: rgba(34, 197, 94, 0.2);
  backdrop-filter: blur(8px);
  border-radius: 0.5rem;
  border: 1px solid rgba(34, 197, 94, 0.4);
  color: rgb(15, 118, 110);
  font-size: 0.75rem;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.2s ease;
  box-shadow: 0 2px 4px -1px rgba(0, 0, 0, 0.1);
}

.requestSend:hover:not(:disabled) {
  background-color: rgba(34, 197, 94, 0.3);
  border-color: rgba(34, 197, 94, 0.6);
  transform: translateY(-1px);
}

.requestSend:disabled {
  opacity: 0.5;
  cursor: not-allowed;
  transform: none;
}

.requestButton {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 48px;
  height: 48px;
  background-color: rgba(34, 197, 94, 0.2);
  backdrop-filter: blur(8px);
  border-radius: 50%;
  border: 2px solid rgba(34, 197, 94, 0.3);
  color: rgb(15, 118, 110);
  cursor: pointer;
  transition: all 0.2s ease;
  position: relative;
}

/* Animazione bordo semplice */
.requestButton {
  animation: pulse 2s ease-in-out infinite;
}

/* Tooltip hover */
.requestButton::after {
  content: "Invia richiesta";
  position: absolute;
  bottom: 100%;
  left: 50%;
  transform: translateX(-50%) translateY(-8px);
  background-color: rgba(17, 24, 39, 0.9);
  color: white;
  padding: 0.5rem 0.75rem;
  border-radius: 0.5rem;
  font-size: 0.75rem;
  font-weight: 600;
  white-space: nowrap;
  opacity: 0;
  pointer-events: none;
  transition: opacity 0.2s ease;
}

.requestButton:hover::after {
  opacity: 1;
}

.requestButton:hover {
  background-color: rgba(34, 197, 94, 0.3);
  border-color: rgba(34, 197, 94, 0.5);
  transform: scale(1.05);
}

/* @keyframes pulse {
  0%,
  100% {
    border-color: rgba(34, 197, 94, 0.3);
  }
  50% {
    border-color: rgba(34, 197, 94, 0.7);
  }
} */

.ownerPhotoContainer {
  display: flex;
  justify-content: center;
  align-items: center;
}

.ownerPhotoSmall {
  width: 48px;
  height: 48px;
  border-radius: 50%;
  object-fit: cover;
  border: 2px solid rgba(255, 255, 255, 0.3);
  backdrop-filter: blur(4px);
}

.ownerPlaceholder {
  width: 48px;
  height: 48px;
  border-radius: 50%;
  background-color: rgb(156, 163, 175);
  display: flex;
  align-items: center;
  justify-content: center;
  color: white;
  border: 2px solid rgba(255, 255, 255, 0.3);
  backdrop-filter: blur(4px);
}

/* ✨ COURSE CONTROL SECTION */
.courseControlSection {
  margin-bottom: 0.75rem;
  background-color: rgba(255, 255, 255, 0.05);
  backdrop-filter: blur(8px);
  border-radius: 0.75rem;
  border: 1px solid rgba(255, 255, 255, 0.1);
  padding: 0.75rem;
  animation: slideDown 0.3s ease-out;
}

.startCourseButton {
  width: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 0.5rem;
  padding: 1rem;
  background-color: rgba(34, 197, 94, 0.2);
  backdrop-filter: blur(8px);
  border-radius: 0.75rem;
  border: 1px solid rgba(34, 197, 94, 0.4);
  color: rgb(15, 118, 110);
  font-size: 1rem;
  font-weight: 700;
  cursor: pointer;
  transition: all 0.2s ease;
  box-shadow: 0 2px 4px -1px rgba(0, 0, 0, 0.1);
  filter: drop-shadow(0 1px 2px rgba(0, 0, 0, 0.1));
}

.startCourseButton:hover {
  background-color: rgba(34, 197, 94, 0.3);
  border-color: rgba(34, 197, 94, 0.6);
  transform: translateY(-1px);
  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
}

.courseActions {
  display: flex;
  gap: 0.75rem;
  flex-direction: column;
}

.rejectCourseButton {
  flex: 1;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 0.5rem;
  padding: 0.75rem;
  background-color: rgba(239, 68, 68, 0.2);
  backdrop-filter: blur(8px);
  border-radius: 0.75rem;
  border: 1px solid rgba(239, 68, 68, 0.4);
  color: rgb(153, 27, 27);
  font-size: 0.875rem;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.2s ease;
  box-shadow: 0 2px 4px -1px rgba(0, 0, 0, 0.1);
}

.rejectCourseButton:hover {
  background-color: rgba(239, 68, 68, 0.3);
  border-color: rgba(239, 68, 68, 0.6);
  transform: translateY(-1px);
}

.finishCourseButton {
  flex: 1;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 0.5rem;
  padding: 0.75rem;
  background-color: rgba(34, 197, 94, 0.2);
  backdrop-filter: blur(8px);
  border-radius: 0.75rem;
  border: 1px solid rgba(34, 197, 94, 0.4);
  color: rgb(15, 118, 110);
  font-size: 0.875rem;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.2s ease;
  box-shadow: 0 2px 4px -1px rgba(0, 0, 0, 0.1);
}

.finishCourseButton:hover {
  background-color: rgba(34, 197, 94, 0.3);
  border-color: rgba(34, 197, 94, 0.6);
  transform: translateY(-1px);
}

.waitingCourseButton {
  width: 100%;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 0.5rem;
  padding: 1rem;
  background-color: rgba(255, 255, 255, 0.1);
  backdrop-filter: blur(8px);
  border-radius: 0.75rem;
  border: 1px solid rgba(34, 197, 94, 0.4);
  position: relative;
  overflow: hidden;
}

.progressBar {
  width: 100%;
  height: 100%;
  position: absolute;
  top: 0;
  left: 0;
  background-color: transparent;
}

.progressFill {
  width: 50%;
  height: 100%;
  background-color: rgba(34, 197, 94, 0.2);
  transition: width 0.3s ease;
}

.testButton {
  font-size: 0.75rem;
  padding: 0.25rem 0.5rem;
  background: rgba(59, 130, 246, 0.2);
  border: 1px solid rgba(59, 130, 246, 0.4);
  border-radius: 0.25rem;
  color: rgb(30, 64, 175);
  cursor: pointer;
}

.acceptCourseButton {
  padding: 0.75rem 1.5rem;
  background-color: rgba(34, 197, 94, 0.2);
  border: 1px solid rgba(34, 197, 94, 0.4);
  border-radius: 0.5rem;
  color: rgb(15, 118, 110);
  font-weight: 600;
  cursor: pointer;
  transition: all 0.2s ease;
  z-index: 1;
}

.acceptCourseButton:hover {
  background-color: rgba(34, 197, 94, 0.3);
}

/* ✨ OWNER NOTIFICATION CON DUE BOTTONI */
.ownerNotification {
  display: flex;
  flex-direction: column;
  gap: 0.75rem;
  padding: 0.75rem;
  background-color: rgba(255, 255, 255, 0.05);
  backdrop-filter: blur(8px);
  border-radius: 0.75rem;
  border: 1px solid rgba(255, 255, 255, 0.1);
}

.notificationMessage {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  font-size: 0.875rem;
  font-weight: 600;
  color: rgb(17, 24, 39);
  filter: drop-shadow(0 1px 2px rgba(0, 0, 0, 0.1));
}

.ownerChoices {
  display: flex;
  gap: 0.75rem;
}

.acceptRequestButton {
  flex: 1;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 0.5rem;
  padding: 0.75rem;
  background-color: rgba(34, 197, 94, 0.2);
  backdrop-filter: blur(8px);
  border-radius: 0.75rem;
  border: 1px solid rgba(34, 197, 94, 0.4);
  color: rgb(15, 118, 110);
  font-size: 0.875rem;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.2s ease;
  box-shadow: 0 2px 4px -1px rgba(0, 0, 0, 0.1);
}

.acceptRequestButton:hover {
  background-color: rgba(34, 197, 94, 0.3);
  border-color: rgba(34, 197, 94, 0.6);
  transform: translateY(-1px);
}

.rejectRequestButton {
  flex: 1;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 0.5rem;
  padding: 0.75rem;
  background-color: rgba(239, 68, 68, 0.2);
  backdrop-filter: blur(8px);
  border-radius: 0.75rem;
  border: 1px solid rgba(239, 68, 68, 0.4);
  color: rgb(153, 27, 27);
  font-size: 0.875rem;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.2s ease;
  box-shadow: 0 2px 4px -1px rgba(0, 0, 0, 0.1);
}

.rejectRequestButton:hover {
  background-color: rgba(239, 68, 68, 0.3);
  border-color: rgba(239, 68, 68, 0.6);
  transform: translateY(-1px);
}

/* ✨ UNIFIED SECTION */
.unifiedSection {
  margin-bottom: 0.75rem;
  /* background-color: rgba(255, 255, 255, 0.05); */
  backdrop-filter: blur(8px);
  border-radius: 0.75rem;
  /* border: 1px solid rgba(255, 255, 255, 0.1); */
  /* padding: 0.75rem; */
  animation: slideDown 0.3s ease-out;
}

.viewerWaiting,
.studentWaiting {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 0.5rem;
  /* padding: 0.75rem; */
  padding: 0.75rem 0.5rem;
  background-color: rgba(59, 130, 246, 0.2);
  backdrop-filter: blur(8px);
  border-radius: 0.75rem;
  border: 1px solid rgba(59, 130, 246, 0.4);
  color: rgb(30, 64, 175);
  font-size: 0.875rem;
  font-weight: 600;
  filter: drop-shadow(0 1px 2px rgba(0, 0, 0, 0.1));
}

.acceptCourseButton {
  width: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 0.5rem;
  padding: 1rem;
  background-color: rgba(34, 197, 94, 0.2);
  backdrop-filter: blur(8px);
  border-radius: 0.75rem;
  border: 1px solid rgba(34, 197, 94, 0.4);
  color: rgb(15, 118, 110);
  font-size: 1rem;
  font-weight: 700;
  cursor: pointer;
  transition: all 0.2s ease;
  box-shadow: 0 2px 4px -1px rgba(0, 0, 0, 0.1);
}

.acceptCourseButton:hover {
  background-color: rgba(34, 197, 94, 0.3);
  border-color: rgba(34, 197, 94, 0.6);
  transform: translateY(-1px);
}

/* ✨ NUOVE CLASSI CSS PER SISTEMA XP, RIFIUTA E FEEDBACK */

/* =========================
   SISTEMA XP E AVVISI
   ========================= */

.xpWarning {
  margin-top: 0.75rem;
  padding: 0.75rem;
  background-color: rgba(239, 68, 68, 0.15);
  backdrop-filter: blur(8px);
  border-radius: 0.75rem;
  border: 1px solid rgba(239, 68, 68, 0.3);
  display: flex;
  align-items: center;
  justify-content: space-between;
  animation: slideDown 0.3s ease-out;
}

.xpWarning span {
  color: rgb(153, 27, 27);
  font-size: 0.875rem;
  font-weight: 600;
  filter: drop-shadow(0 1px 2px rgba(0, 0, 0, 0.1));
}

.xpWarning button {
  padding: 0.375rem 0.75rem;
  background-color: rgba(239, 68, 68, 0.2);
  border: 1px solid rgba(239, 68, 68, 0.4);
  border-radius: 0.375rem;
  color: rgb(153, 27, 27);
  font-size: 0.75rem;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.2s ease;
}

.xpWarning button:hover {
  background-color: rgba(239, 68, 68, 0.3);
  border-color: rgba(239, 68, 68, 0.6);
}

/* =========================
   MODAL RIFIUTO
   ========================= */

.rejectModal {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: rgba(0, 0, 0, 0.5);
  backdrop-filter: blur(8px);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 1000;
  animation: fadeIn 0.3s ease-out;
}

.rejectModalContent {
  background: rgb(233, 195, 68);
  backdrop-filter: blur(20px) saturate(150%);
  border-radius: 1rem;
  padding: 1.5rem;
  max-width: 400px;
  width: 90%;
  border: 1px solid rgba(255, 255, 255, 0.2);
  box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.2);
  animation: slideUp 0.3s ease-out;
}

.rejectModalContent h4 {
  margin: 0 0 1rem 0;
  color: rgb(17, 24, 39);
  font-size: 1.125rem;
  font-weight: 700;
  text-align: center;
  filter: drop-shadow(0 1px 2px rgba(0, 0, 0, 0.1));
}

.rejectTextarea {
  width: 100%;
  padding: 0.75rem;
  background-color: rgba(255, 255, 255, 0.2);
  backdrop-filter: blur(8px);
  border-radius: 0.75rem;
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: rgb(17, 24, 39);
  font-size: 0.875rem;
  line-height: 1.4;
  resize: vertical;
  min-height: 80px;
  font-family: inherit;
  transition: all 0.2s ease;
  margin-bottom: 1rem;
}

.rejectTextarea:focus {
  outline: none;
  border-color: rgba(239, 68, 68, 0.4);
  background-color: rgba(255, 255, 255, 0.25);
}

.rejectTextarea::placeholder {
  color: rgb(107, 114, 128);
  font-style: italic;
}

.rejectActions {
  display: flex;
  gap: 0.5rem;
  justify-content: flex-end;
}

.rejectCancel {
  padding: 0.5rem 0.75rem;
  background-color: rgba(255, 255, 255, 0.1);
  backdrop-filter: blur(8px);
  border-radius: 0.5rem;
  border: 1px solid rgba(255, 255, 255, 0.2);
  color: rgb(75, 85, 99);
  font-size: 0.75rem;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.2s ease;
}

.rejectCancel:hover {
  background-color: rgba(255, 255, 255, 0.2);
  color: rgb(17, 24, 39);
}

.rejectNoComment {
  padding: 0.5rem 0.75rem;
  background-color: rgba(239, 68, 68, 0.2);
  backdrop-filter: blur(8px);
  border-radius: 0.5rem;
  border: 1px solid rgba(239, 68, 68, 0.4);
  color: rgb(153, 27, 27);
  font-size: 0.75rem;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.2s ease;
}

.rejectNoComment:hover {
  background-color: rgba(239, 68, 68, 0.3);
  border-color: rgba(239, 68, 68, 0.6);
}

.rejectConfirm {
  padding: 0.5rem 0.75rem;
  background-color: rgba(34, 197, 94, 0.2);
  backdrop-filter: blur(8px);
  border-radius: 0.5rem;
  border: 1px solid rgba(34, 197, 94, 0.4);
  color: rgb(15, 118, 110);
  font-size: 0.75rem;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.2s ease;
}

.rejectConfirm:hover {
  background-color: rgba(34, 197, 94, 0.3);
  border-color: rgba(34, 197, 94, 0.6);
}

/* =========================
   SISTEMA TERMINA E ATTESA
   ========================= */

.finishWaiting {
  text-align: center;
  padding: 1rem;
  background-color: rgba(59, 130, 246, 0.1);
  backdrop-filter: blur(8px);
  border-radius: 0.75rem;
  border: 1px solid rgba(59, 130, 246, 0.2);
  margin-bottom: 0.75rem;
}

.finishWaiting p {
  margin: 0 0 0.75rem 0;
  color: rgb(30, 64, 175);
  font-size: 0.875rem;
  font-weight: 600;
  filter: drop-shadow(0 1px 2px rgba(0, 0, 0, 0.1));
}

.finishStatus {
  display: flex;
  justify-content: center;
  gap: 1rem;
}

.finishStatus span {
  padding: 0.375rem 0.75rem;
  border-radius: 0.5rem;
  font-size: 0.75rem;
  font-weight: 600;
  backdrop-filter: blur(4px);
}

.clicked {
  background-color: rgba(34, 197, 94, 0.2);
  border: 1px solid rgba(34, 197, 94, 0.4);
  color: rgb(15, 118, 110);
}

.pending {
  background-color: rgba(156, 163, 175, 0.2);
  border: 1px solid rgba(156, 163, 175, 0.4);
  color: rgb(75, 85, 99);
}

.completedState {
  background-color: rgba(34, 197, 94, 0.2);
  border: 1px solid rgba(34, 197, 94, 0.4);
  display: flex;
  flex-direction: column;
}

.courseButtons {
  display: flex;
  gap: 0.75rem;
}

.finishCourseButton:disabled {
  opacity: 0.6;
  cursor: not-allowed;
  transform: none;
}

.finishCourseButton:disabled:hover {
  background-color: rgba(34, 197, 94, 0.2);
  border-color: rgba(34, 197, 94, 0.4);
  transform: none;
}

/* =========================
   MODAL FEEDBACK
   ========================= */

.feedbackModal {
  position: fixed;
  /* top: -120px; */
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: rgba(0, 0, 0, 0.5);
  backdrop-filter: blur(8px);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 1000;
  animation: fadeIn 0.3s ease-out;
  /* border: 1px solid red; */
}

.feedbackModalContent {
  background: rgb(233, 195, 68);
  backdrop-filter: blur(20px) saturate(150%);
  border-radius: 1rem;
  padding: 1.5rem;
  max-width: 450px;
  width: 90%;
  border: 1px solid rgba(255, 255, 255, 0.2);
  box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.2);
  animation: slideUp 0.3s ease-out;
  transform: translateY(-50px);
}

.feedbackModalContent h4 {
  margin: 0 0 1.5rem 0;
  color: rgb(17, 24, 39);
  font-size: 1.25rem;
  font-weight: 700;
  text-align: center;
  filter: drop-shadow(0 1px 2px rgba(0, 0, 0, 0.1));
}

.ratingSection,
.commentSection,
.gemSection {
  margin-bottom: 1.25rem;
}

.ratingSection label,
.commentSection label,
.gemSection label {
  display: block;
  margin-bottom: 0.5rem;
  color: rgb(17, 24, 39);
  font-size: 0.875rem;
  font-weight: 600;
  filter: drop-shadow(0 1px 2px rgba(0, 0, 0, 0.1));
}

.starRating {
  display: flex;
  gap: 0.25rem;
  justify-content: center;
}

.starClickable {
  cursor: pointer;
  transition: all 0.2s ease;
}

.starClickable:hover {
  transform: scale(1.1);
}

.feedbackTextarea {
  width: 100%;
  padding: 0.75rem;
  background-color: rgba(255, 255, 255, 0.2);
  backdrop-filter: blur(8px);
  border-radius: 0.75rem;
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: rgb(17, 24, 39);
  font-size: 0.875rem;
  line-height: 1.4;
  resize: vertical;
  min-height: 80px;
  font-family: inherit;
  transition: all 0.2s ease;
}

.feedbackTextarea:focus {
  outline: none;
  border-color: rgba(34, 197, 94, 0.4);
  background-color: rgba(255, 255, 255, 0.25);
}

.feedbackTextarea::placeholder {
  color: rgb(107, 114, 128);
  font-style: italic;
}

.gemSelector {
  display: flex;
  gap: 0.5rem;
  justify-content: center;
}

.gemButton {
  padding: 0.5rem 0.75rem;
  background-color: rgba(255, 255, 255, 0.1);
  backdrop-filter: blur(8px);
  border-radius: 0.5rem;
  border: 1px solid rgba(255, 255, 255, 0.2);
  color: rgb(75, 85, 99);
  font-size: 0.75rem;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.2s ease;
}

.gemButton:hover {
  background-color: rgba(255, 255, 255, 0.2);
  transform: translateY(-1px);
}

.gemSelected {
  background-color: rgba(251, 191, 36, 0.2);
  border-color: rgba(251, 191, 36, 0.4);
  color: rgb(146, 64, 14);
}

.gemSelected:hover {
  background-color: rgba(251, 191, 36, 0.3);
  border-color: rgba(251, 191, 36, 0.6);
}

.feedbackActions {
  display: flex;
  gap: 0.75rem;
  justify-content: center;
  margin-top: 1.5rem;
}

.skipFeedback {
  padding: 0.75rem 1rem;
  background-color: rgba(255, 255, 255, 0.1);
  backdrop-filter: blur(8px);
  border-radius: 0.75rem;
  border: 1px solid rgba(255, 255, 255, 0.2);
  color: rgb(75, 85, 99);
  font-size: 0.875rem;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.2s ease;
}

.skipFeedback:hover {
  background-color: rgba(255, 255, 255, 0.2);
  color: rgb(17, 24, 39);
}

.submitFeedback {
  padding: 0.75rem 1.5rem;
  background-color: rgba(34, 197, 94, 0.2);
  backdrop-filter: blur(8px);
  border-radius: 0.75rem;
  border: 1px solid rgba(34, 197, 94, 0.4);
  color: rgb(15, 118, 110);
  font-size: 0.875rem;
  font-weight: 700;
  cursor: pointer;
  transition: all 0.2s ease;
  box-shadow: 0 2px 4px -1px rgba(0, 0, 0, 0.1);
}

.submitFeedback:hover:not(:disabled) {
  background-color: rgba(34, 197, 94, 0.3);
  border-color: rgba(34, 197, 94, 0.6);
  transform: translateY(-1px);
  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
}

.submitFeedback:disabled {
  opacity: 0.5;
  cursor: not-allowed;
  transform: none;
}

.feedbackSuccess {
  text-align: center;
  padding: 1rem;
}

.feedbackSuccess h4 {
  color: rgb(15, 118, 110);
  margin-bottom: 0.5rem;
}

.feedbackSuccess p {
  color: rgb(17, 24, 39);
  font-size: 0.875rem;
  margin: 0;
}

/* =========================
   ANIMAZIONI
   ========================= */

@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes slideUp {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* In TestCard.module.css - Aggiungi questi stili */

.rejectCommentsSection {
  margin-top: 12px;
  padding: 12px;
  background-color: #fff3cd;
  border: 1px solid #ffeaa7;
  border-radius: 8px;
}

.rejectCommentsSection h5 {
  margin: 0 0 8px 0;
  font-size: 14px;
  color: #856404;
}

.rejectCommentItem {
  margin-bottom: 8px;
  padding: 8px;
  background: white;
  border-radius: 6px;
  border-left: 3px solid #ffc107;
}

.commentHeader {
  display: flex;
  align-items: center;
  gap: 8px;
  margin-bottom: 4px;
  font-size: 12px;
}

.commentTime {
  color: #666;
  font-size: 11px;
}

.responseTag {
  background: #007bff;
  color: white;
  padding: 2px 6px;
  border-radius: 12px;
  font-size: 10px;
}

.commentText {
  margin: 0;
  font-size: 13px;
  color: #333;
}

.rejectResponseModal {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0, 0, 0, 0.5);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 1000;
}

.originalRejectComment {
  margin: 12px 0;
  padding: 12px;
  background: #f8f9fa;
  border-left: 4px solid #dc3545;
  border-radius: 4px;
}

.originalRejectComment strong {
  display: block;
  margin-bottom: 6px;
  color: #dc3545;
}

.responseSection {
  margin: 16px 0;
}

.responseSection label {
  display: block;
  margin-bottom: 8px;
  font-weight: 500;
}

.bookmarkFilled {
  fill: #3b82f6; /* Blu quando salvato */
  color: #3b82f6;
}

.bookmarkEmpty {
  fill: none; /* Vuoto quando non salvato */
  color: #6b7280;
}

.bookmarked {
  background-color: #eff6ff; /* Background leggero quando attivo */
  border-color: #3b82f6;
}

.requestButton:disabled {
  opacity: 1;
  cursor: not-allowed;
  background-color: rgba(156, 163, 175, 0.2);
  border-color: rgba(156, 163, 175, 0.3);
  color: rgb(107, 114, 128);
  animation: none; /* Rimuove l'animazione pulse */
}

.requestButton:disabled:hover {
  transform: none;
  background-color: rgba(156, 163, 175, 0.2);
  border-color: rgba(156, 163, 175, 0.3);
}
.requestButton:disabled::after {
  content: "XP insufficienti!";
  background-color: rgba(239, 68, 68, 0.9);
  color: white;
}

/* Empty State */
.emptyState {
  text-align: center;
  padding: 0px 20px 20px 20px;
  color: #404854;
}

.emptyIcon {
  font-size: 48px;
  margin-bottom: 16px;
  opacity: 0.5;
}

.emptyTitle {
  font-size: 18px;
  font-weight: 600;
  margin-bottom: 8px;
  color: #1a1a1a;
}

.emptyDescription {
  font-size: 14px;
  line-height: 1.4;
}

.cardDescrizioneTextBox {
  position: relative;
  line-height: 1.4;
  word-break: break-word;
  background-color: rgba(255, 255, 255, 0.2);
  backdrop-filter: blur(8px);
  border-radius: 0.75rem;
  border: 1px solid rgba(255, 255, 255, 0.3);
  flex: 1;
  padding: 0.75rem;
}

.cardDescrizioneCollapsed {
  max-height: 80px;
  overflow: hidden;
}

.cardDescrizioneExpandButton:hover {
  /* background: rgba(255, 255, 255, 1); */
  /* background: rgba(12, 53, 75, 0.811); */
  /* transform: translateY(-1px); */
}

/* Alternativa: pulsante sotto il testo */
.cardDescrizioneExpandButton {
  /* margin-top: 8px; */
  /* background: transparent; */
  /* background: rgba(30, 104, 143, 0.811); */
  border: none;
  color: #072ead;
  font-size: 13px;
  /* font-weight: 500; */
  cursor: pointer;
  /* padding: 6px 4px; */
  font-weight: 700;
  /* align-self: flex-start; */
}
